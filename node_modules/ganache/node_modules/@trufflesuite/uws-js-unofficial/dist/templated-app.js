"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const http_context_1 = require("./http-context");
class TemplatedApp {
    constructor() {
        this.httpContext = new http_context_1.HttpContext();
    }
    ws(pattern, behavior) {
        this.httpContext.onWs(pattern, behavior);
        this.httpContext.onHttp("get", pattern, (res, req) => {
            const secWebSocketKey = req.getHeader("sec-websocket-key");
            if (secWebSocketKey.length == 24) {
            }
            else {
                req.setYield(true);
            }
        }, true);
        return this;
    }
    get(pattern, handler) {
        this.httpContext.onHttp("get", pattern, handler);
        return this;
    }
    post(pattern, handler) {
        this.httpContext.onHttp("post", pattern, handler);
        return this;
    }
    options(pattern, handler) {
        this.httpContext.onHttp("options", pattern, handler);
        return this;
    }
    del(pattern, handler) {
        this.httpContext.onHttp("delete", pattern, handler);
        return this;
    }
    patch(pattern, handler) {
        this.httpContext.onHttp("patch", pattern, handler);
        return this;
    }
    put(pattern, handler) {
        this.httpContext.onHttp("put", pattern, handler);
        return this;
    }
    head(pattern, handler) {
        this.httpContext.onHttp("head", pattern, handler);
        return this;
    }
    connect(pattern, handler) {
        this.httpContext.onHttp("connect", pattern, handler);
        return this;
    }
    trace(pattern, handler) {
        this.httpContext.onHttp("trace", pattern, handler);
        return this;
    }
    any(pattern, handler) {
        this.httpContext.onHttp("*", pattern, handler);
        return this;
    }
    listen(arg1, arg2, arg3, arg4) {
        let host;
        let port;
        let options;
        let callback;
        if (typeof arg1 === "string") {
            host = arg1;
            port = arg2;
            if (typeof arg3 === "number") {
                options = arg3;
                callback = arg4;
            }
            else {
                options = 0;
                callback = arg3;
            }
        }
        else {
            port = arg1;
            if (typeof arg2 === "number") {
                options = arg2;
                callback = arg3;
            }
            else {
                options = 0;
                callback = arg2;
            }
        }
        this.httpContext.listen(host, port, callback);
        return this;
    }
    publish(topic, message, isBinary, compress) {
        throw new Error("Not implemented");
        return false;
    }
    numSubscribers(topic) {
        throw new Error("Not implemented");
        return 0;
    }
    addServerName(hostname, options) {
        throw new Error("Not implemented");
        return this;
    }
    removeServerName(hostname) {
        throw new Error("Not implemented");
        return this;
    }
    missingServerName(cb) {
        throw new Error("Not implemented");
        return this;
    }
}
exports.default = TemplatedApp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVtcGxhdGVkLWFwcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9mYWxsYmFjay90ZW1wbGF0ZWQtYXBwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBUUEsaURBQTZDO0FBSTdDLE1BQXFCLFlBQVk7SUFHL0I7UUFDRSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksMEJBQVcsRUFBRSxDQUFDO0lBQ3ZDLENBQUM7SUFFRCxFQUFFLENBQUMsT0FBeUIsRUFBRSxRQUEyQjtRQUN2RCxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFFekMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQ3JCLEtBQUssRUFDTCxPQUFPLEVBQ1AsQ0FBQyxHQUFpQixFQUFFLEdBQWdCLEVBQUUsRUFBRTtZQUN0QyxNQUFNLGVBQWUsR0FBRyxHQUFHLENBQUMsU0FBUyxDQUFDLG1CQUFtQixDQUFDLENBQUM7WUFDM0QsSUFBSSxlQUFlLENBQUMsTUFBTSxJQUFJLEVBQUUsRUFBRTthQUNqQztpQkFBTTtnQkFDTCxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3BCO1FBQ0gsQ0FBQyxFQUNELElBQUksQ0FDTCxDQUFDO1FBRUYsT0FBTyxJQUFJLENBQUM7SUFDZCxDQUFDO0lBRUQsR0FBRyxDQUFDLE9BQXlCLEVBQUUsT0FBb0I7UUFDakQsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNqRCxPQUFPLElBQUksQ0FBQztJQUNkLENBQUM7SUFFRCxJQUFJLENBQUMsT0FBeUIsRUFBRSxPQUFvQjtRQUNsRCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ2xELE9BQU8sSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELE9BQU8sQ0FB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